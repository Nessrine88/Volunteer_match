<%= form_with url: search_path, method: :get, local: true, class: "w-full max-w-3xl mx-auto px-4", html: { id: "search-form" } do %>
  <div class="flex flex-col sm:flex-row items-stretch gap-3">
    <input
      type="text"
      name="query"
      placeholder="Search opportunities..."
      value="<%= params[:query] %>"
      class="flex-grow px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
      oninput="document.getElementById('search-form').submit();"
    />
    <!-- Optional: keep the button for fallback -->
    <button
      type="submit"
      class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
    >
      Search
    </button>
  </div>
<% end %>
